import{b as g}from"./chunk-S34JJVBQ-DQcgZE8o.js";import{a as R,j as s,s as y,gy as b,q as c,b as p,e1 as h,C as x,h as C,u as v,gz as w,r as d,t as m,a6 as S,P as T,T as j,k as D}from"./index-D99N8fnl.js";import{e as q}from"./chunk-MFALVTRQ-B5f8FgMG.js";import{S as E}from"./chunk-GIZFNLKK-DEtnVvOU.js";import{D as L}from"./chunk-K6ZYAQXD-fA1Xyb34.js";import"./chunk-IVZ6BMDB-DM5Fzu3j.js";import"./chunk-MSDRGCRR-KdZZFo_5.js";import"./chunk-P3UUX2T6-CkECkHJf.js";import"./chunk-SJ3E4T6B-DgtrfUzR.js";import"./chunk-PFKKVLZX-eJDQfjDs.js";import"./chunk-C76H5USB-ByTvTRnP.js";import"./Trans-CAQvXDDq.js";var P=()=>({queryKey:b.list(),queryFn:async()=>y.admin.refundReason.list()}),Y=async()=>{const e=P();return c.getQueryData(e.queryKey)??await c.fetchQuery(e)},f=20,k=()=>{const{t:e}=p(),{searchParams:r}=q({pageSize:f}),{refund_reasons:n,count:t,isLoading:o,isError:i,error:a}=h(r,{placeholderData:D}),l=Q();if(i)throw a;return s.jsx(x,{className:"divide-y px-0 py-0",children:s.jsx(L,{data:n,columns:l,rowCount:t,pageSize:f,getRowId:u=>u.id,heading:e("refundReasons.domain"),subHeading:e("refundReasons.subtitle"),emptyState:{empty:{heading:e("general.noRecordsMessage")},filtered:{heading:e("general.noRecordsMessage"),description:e("general.noRecordsMessageFiltered")}},actions:[{label:e("actions.create"),to:"create"}],isLoading:o,enableSearch:!0})})},M=S(),Q=()=>{const{t:e}=p(),r=C(),n=v(),t=g(),{mutateAsync:o}=w(),i=d.useCallback(async a=>{await r({title:e("general.areYouSure"),description:e("refundReasons.delete.confirmation",{label:a.label}),confirmText:e("actions.delete"),cancelText:e("actions.cancel")})&&await o(a.id,{onSuccess:()=>{m.success(e("refundReasons.delete.successToast"))},onError:u=>{m.error(u.message)}})},[e,r,o]);return d.useMemo(()=>[...t,M.action({actions:a=>[[{icon:s.jsx(T,{}),label:e("actions.edit"),onClick:()=>n(`/settings/refund-reasons/${a.row.original.id}/edit`)}],[{icon:s.jsx(j,{}),label:e("actions.delete"),onClick:()=>i(a.row.original)}]]})],[t,i,n,e])},Z=()=>{const{getWidgets:e}=R();return s.jsx(E,{showMetadata:!1,showJSON:!1,hasOutlet:!0,widgets:{after:e("refund_reason.list.after"),before:e("refund_reason.list.before")},children:s.jsx(k,{})})};export{Z as Component,Y as loader};
