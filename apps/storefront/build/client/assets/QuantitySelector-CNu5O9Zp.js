import{_ as b,Z as h,C as f}from"./zod-ydI_oUWi.js";import{r as u,j as n}from"./chunk-OIYGIGL5-Dw2D8vFu.js";import{c as w}from"./clsx-B-dksMZM.js";import{u as g}from"./SubmitButton-OHl3iZdz.js";import{F as j}from"./PlusIcon-CC2IgzJn.js";function v({title:a,titleId:r,...c},t){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},c),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const N=u.forwardRef(v);function I(a){return b(h,a)}const _=({className:a,variant:r,maxInventory:c=100,onChange:t})=>{const i=g();if(!i)return console.error("QuantitySelector must be used within a RemixFormProvider"),null;const{control:d}=i,l=r!=null&&r.manage_inventory&&!r.allow_backorder?r.inventory_quantity||0:c,x=(e,o)=>{const s=Math.max(1,e-1);o(s),t==null||t(s)},p=(e,o)=>{const s=Math.min(l,parseInt(e.toString())+1);o(s),t==null||t(s)},y=(e,o)=>{const s=parseInt(e,10)||1,m=Math.max(1,Math.min(l,s));o(m),t==null||t(m)};return n.jsx(f,{name:"quantity",control:d,render:({field:e})=>n.jsxs("div",{className:w("flex items-center border border-gray-300 rounded-full px-2",a),children:[n.jsx("label",{htmlFor:"quantity",className:"sr-only",children:"Quantity"}),n.jsx("button",{type:"button",className:"bg-highlight flex items-center justify-center p-1 text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200 rounded-full",onClick:()=>x(e.value||1,e.onChange),disabled:(e.value||1)<=1,children:n.jsx(N,{className:"h-4 w-4"})}),n.jsx("input",{...e,type:"text",inputMode:"numeric",id:"quantity",className:"w-12 text-center border-0 focus:ring-0 focus:outline-none text-base font-medium px-1 py-2",value:e.value||"1",onChange:o=>y(o.target.value,e.onChange),min:1,max:l}),n.jsx("button",{type:"button",className:"bg-highlight flex items-center justify-center p-1 text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200 rounded-full",onClick:()=>p(e.value||1,e.onChange),disabled:(e.value||1)>=l,children:n.jsx(j,{className:"h-4 w-4"})})]})})};export{_ as Q,I as n};
