import{i as s,h as u}from"./chunk-OIYGIGL5-DwAmQ0ss.js";import{i as m,_ as l,m as d}from"./Image-LXxd3KYB.js";const o="cart:",$={cart:{accountDetails:`${o}account-details`,removePromotionCode:`${o}remove-promotion-code`,createLineItem:`${o}create-line-item`,removeLineItem:`${o}remove-line-item`,updateLineItem:`${o}update-line-item`}},f=()=>s()[0].data,j=({actionHandlers:e,middleware:t})=>(r,n)=>{const a=e[n.name];if(!a)throw new Error(`Unhandled action type: ${n.name}`);return t&&t(r,n),a(r,n.payload)},C=()=>{const e=f();if(!(e!=null&&e.region))throw new Error("No region data found, this should be provided in the root loader");return{region:e==null?void 0:e.region}};var y=l,g=m,b="[object Number]";function h(e){return typeof e=="number"||g(e)&&y(e)==b}var p=h;const _=u(p),v="en-US";function i(e,t){const r={currency:"usd",quantity:1},{currency:n,quantity:a}=d({},r,t);return n==="vnd"?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"vnd",currencyDisplay:"code"}).format((e||0)*a):new Intl.NumberFormat(v,{style:"currency",currency:n}).format((e||0)*a)}function P(e){return e.variants?e.variants.sort((t,r)=>c(t)-c(r)):[]}function N(e){var t,r;return{calculated:(t=e.calculated_price)==null?void 0:t.calculated_amount,original:(r=e.calculated_price)==null?void 0:r.original_amount}}function c(e){const{calculated:t,original:r}=N(e);return _(t)?t:r}function I(e){return P(e)[0]}function V(e,t){return i(e.unit_price,{currency:t,quantity:e.quantity})}function q(e){var t;return i(e.item_subtotal||0,{currency:(t=e.region)==null?void 0:t.currency_code})}export{$ as F,I as a,C as b,j as c,c as d,o as e,i as f,N as g,V as h,_ as i,q as j,P as s,f as u};
