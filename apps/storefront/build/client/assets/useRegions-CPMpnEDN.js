import{r as n,f as d,j as i}from"./chunk-OIYGIGL5-DA7B83DT.js";import{c as l,d as g}from"./PlusIcon-DaKNzPhp.js";import{n as b,Q as x}from"./coerce-D09H21Zt.js";import{o as v,s as w,b as y}from"./zod-Dq-Shab3.js";import{c as m}from"./clsx-B-dksMZM.js";import{a as I,R as L}from"./index-1GpmYXPj.js";import{d as k}from"./debounce-DWZCWN6T.js";function R({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const D=n.forwardRef(R),N=()=>{const e=d({key:l.cart.removeLineItem}),t=({id:r})=>{e.submit({lineItemId:r},{method:"delete",action:"/api/cart/line-items/delete"})};return{fetcher:e,state:e.state,submit:t}};function j({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const O=n.forwardRef(j),C=v({lineItemId:w().min(1,"Line item ID is required"),quantity:b().int()}),W=({formId:e,item:t,className:r,maxInventory:a=10,...u})=>{const o=d({key:l.cart.updateLineItem}),p=["submitting","loading"].includes(o.state),c=I({resolver:y(C),defaultValues:{lineItemId:t.id,quantity:t.quantity.toString()},fetcher:o,submitConfig:{method:"post",action:"/api/cart/line-items/update"}}),h=k(s=>{o.submit({lineItemId:t.id,quantity:s},{method:"post",action:"/api/cart/line-items/update"})},700),f=s=>{h(s)};return i.jsx(L,{...c,children:i.jsx(o.Form,{id:e,className:m("line-item-quantity-select",r),...u,onSubmit:c.handleSubmit,children:i.jsx(x,{formId:e,className:m({"pointer-events-none opacity-50":p}),variant:t.variant,onChange:f})})})},Z=()=>{const e=g();return{regions:e==null?void 0:e.regions}};export{D as F,W as L,N as a,O as b,Z as u};
