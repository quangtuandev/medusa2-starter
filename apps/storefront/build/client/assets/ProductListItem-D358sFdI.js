import{j as t,r as b}from"./chunk-OIYGIGL5-Dw2D8vFu.js";import{c}from"./clsx-B-dksMZM.js";import{u as I}from"./PlusIcon-G-wafARz.js";import{a as N,A as S,b as w}from"./ProductThumbnail-Dr2U9_lF.js";const B=({className:e,...n})=>t.jsx("article",{className:c(e,"group"),...n,children:t.jsx("figure",{className:"aspect-w-1 aspect-h-1 h-full w-full overflow-hidden rounded-lg border",children:t.jsx("div",{className:"h-full w-full bg-gray-200 object-cover object-center group-hover:opacity-75"})})}),E=({className:e})=>t.jsx("div",{className:c("inline-flex items-center rounded-md border border-gray-200 bg-gray-200 px-1.5 py-0.5 text-xs font-bold text-gray-600",e),children:"Sold out"}),_=e=>b.useMemo(()=>{var o,i;const n=((o=e.variants)==null?void 0:o.reduce((a,l)=>l.allow_backorder||!l.manage_inventory?1/0:a+(l.inventory_quantity||0),0))??0;return{averageInventory:n/(((i=e==null?void 0:e.variants)==null?void 0:i.length)??1),totalInventory:n}},[e]),P=({product:e,className:n})=>{const o=_(e).averageInventory===0;return t.jsx("div",{className:n,children:o&&t.jsx(E,{})})},k={SIZE:"Size"},T=({product:e,className:n,isTransitioning:d,...o})=>{var p,v,g;const{region:i}=I(),[a,l]=b.useState(null),r=(p=e.options)==null?void 0:p.find(s=>s.title===k.SIZE),x={};a&&r&&(x[r==null?void 0:r.id]=a);const y=!(r&&r.values&&r.values.length>0)||a,m=(v=e.variants)==null?void 0:v.find(s=>Object.entries(x).every(([u,j])=>{var f;return(f=s.options)==null?void 0:f.some(h=>h.option_id===u&&h.value===j)}));return m?t.jsxs("article",{className:c(n,"group/product-card text-left rounded-[32px] p-4 pb-6 overflow-hidden bg-white shadow-[5px_5px_10px_0px_#00000040]"),...o,children:[t.jsxs("div",{className:"relative",children:[t.jsx(P,{className:"absolute right-2 top-2 z-10 flex gap-2",product:e}),t.jsx(N,{isTransitioning:d,product:e})]}),t.jsx("h4",{className:"mt-4 overflow-hidden text-ellipsis font-extrabold font-title group-hover/product-card:text-[36px] transition-all duration-300 text-[28px]",children:e.title}),t.jsxs("div",{className:"flex gap-2 justify-between items-center",children:[t.jsx("div",{className:"flex gap-2 justify-center items-center",children:(g=r==null?void 0:r.values)==null?void 0:g.map(s=>t.jsx("span",{className:c("text-sm font-light  border border-[#716E6E] rounded-full px-2 py-1 hover:text-[#716E6E] hover:border-black text-[10px] font-display leading-none",{"!text-black !border-black bg-highlight":a===s.value}),onClick:u=>{l(s.value),u.preventDefault()},children:s.value},s.id))}),t.jsx(S,{product:e,selectedOptions:x,disabled:!y,variant:"primary"})]}),t.jsx("p",{className:"mt-1 text-lg font-extrabold font-title leading-none tracking-normal hover:text-[]",children:t.jsx(w,{product:e,variant:m,currencyCode:i.currency_code})})]}):null};export{B as E,T as P,_ as u};
