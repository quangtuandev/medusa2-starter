import{r as l,j as i,L as P}from"./chunk-OIYGIGL5-hjFmARwk.js";import{c as p}from"./clsx-B-dksMZM.js";const m=typeof window<"u";function v({title:e,titleId:t,...r},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const y=l.forwardRef(v);function S({title:e,titleId:t,...r},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const b=l.forwardRef(S),j=e=>e>0,T=(e,t)=>e+1<t,E=(e,t)=>Math.ceil(e/t),R=(e,t)=>e*t,N=(e,t,r)=>{const n=e*(t+1);return n>r?r-1:n-1},d=(e,t)=>r=>Math.min(Math.max(r,0),E(e,t)-1),I=({totalItems:e,pageSize:t,currentPage:r})=>{const n=E(e,t);return{totalPages:n,startIndex:R(t,r),endIndex:N(t,r,e),previousEnabled:j(r),nextEnabled:T(r,n)}},_=e=>function(r,n){switch(n.type){case"SET_PAGE":return d(e.totalItems,e.pageSize)(n.page);case"NEXT_PAGE":return d(e.totalItems,e.pageSize)(r+1);case"PREVIOUS_PAGE":return d(e.totalItems,e.pageSize)(r-1);case"SET_PAGESIZE":return d(e.totalItems,n.pageSize)(n.nextPage??r);case"SET_TOTALITEMS":return d(n.totalItems,e.pageSize)(n.nextPage??r);default:return r}};function A(e,t){switch(t.type){case"SET_TOTALITEMS":return t.totalItems;default:return e}}function M(e,t){switch(t.type){case"SET_PAGESIZE":return t.pageSize;default:return e}}function z(e,t){return{currentPage:_(e)(e.currentPage,t),totalItems:A(e.totalItems,t),pageSize:M(e.pageSize,t)}}function C({totalItems:e=0,initialPage:t=0,initialPageSize:r=0}={}){const n={totalItems:e,pageSize:r,currentPage:t},[s,c]=l.useReducer(z,n),a=l.useRef(e);return a.current=e,l.useEffect(()=>()=>{typeof a.current!="number"||e===a.current||c({type:"SET_TOTALITEMS",totalItems:a.current})},[e]),{...s,...l.useMemo(()=>I(s),[s]),setPage:l.useCallback(o=>{c({type:"SET_PAGE",page:o})},[]),setNextPage:l.useCallback(()=>{c({type:"NEXT_PAGE"})},[]),setPreviousPage:l.useCallback(()=>{c({type:"PREVIOUS_PAGE"})},[]),setPageSize:l.useCallback((o,u=0)=>{c({type:"SET_PAGESIZE",pageSize:o,nextPage:u})},[])}}const g=({className:e,currentPage:t,page:r,...n})=>{const s="z-10 text-primary",c="text-gray-500 hover:bg-gray-50",a=r===t;return i.jsx(P,{viewTransition:!0,className:p(e,"relative inline-flex items-center px-4 py-2 text-sm font-bold",a?s:c),"aria-current":a?"page":"false",to:n.href,prefetch:"viewport",children:r})},h=({currentPage:e,className:t,isDisabled:r,href:n,children:s})=>{const c=p(t,{"pointer-events-none cursor-not-allowed opacity-50":r},"relative inline-flex items-center bg-white px-2 py-2 text-sm font-bold text-gray-500 hover:bg-gray-50 sm:px-4");return r?i.jsx("button",{"aria-disabled":r,disabled:!0,className:c,children:s}):i.jsx(P,{viewTransition:!0,"aria-disabled":r,onClick:a=>{r&&a.preventDefault()},className:c,to:n,prefetch:"viewport",children:s})},L=({paginationConfig:e,getNextProps:t,getPaginationItemProps:r,getPreviousProps:n})=>{const{totalPages:s,setPage:c}=C({totalItems:e.count,initialPageSize:e.limit}),a=Math.floor(e.offset/e.limit)+1;if(l.useEffect(()=>{c(a-1)},[a,c]),e.count<=e.limit)return null;const o=s<=5?1:Math.max(1,a-1),u=s<=5?s:Math.min(s,a+1);return i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("div",{className:"flex flex-1 flex-col-reverse flex-wrap items-center justify-center gap-4 sm:flex-row",children:i.jsx("div",{children:i.jsxs("nav",{className:"relative z-0 inline-flex","aria-label":"Pagination",children:[i.jsxs(h,{className:p(a===1&&"hidden"),currentPage:a,isDisabled:a===1,...n({currentPage:a}),children:[i.jsx("span",{className:"sr-only",children:"Previous"}),i.jsx(y,{className:"h-5 w-5","aria-hidden":"true"})]}),o>2&&i.jsxs(i.Fragment,{children:[i.jsx(g,{page:1,currentPage:a,...r({page:1})}),i.jsx("span",{className:"relative inline-flex items-center bg-white px-3 py-2 text-sm font-bold text-gray-700 sm:px-4",children:"..."})]}),Array.from({length:u-o+1},(f,w)=>o+w).map(f=>i.jsx(g,{page:f,currentPage:a,...r({page:f})},f)),u<s-1&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"relative inline-flex items-center bg-white px-3 py-2 text-sm font-bold text-gray-700 sm:px-4",children:"..."}),i.jsx(g,{page:s,currentPage:a,...r({page:s})})]}),i.jsxs(h,{className:"rounded-r-md",currentPage:a,isDisabled:a===s,...t({currentPage:a}),children:[i.jsx("span",{className:"sr-only",children:"Next"}),i.jsx(b,{className:"h-5 w-5","aria-hidden":"true"})]})]})})})})};function x({context:e,page:t,section:r,difference:n=0,prefix:s=""}){const c=m?window.location.search:"",a=m?e.split("?")[1]||""+c:e.split("?")[1],o=new URLSearchParams(a),u=t+n;return u>0&&o.set(`${s}page`,u.toString()),`/${e.split("?")[0].replace("?","")}?${o.toString()}${r?`#${r}`:""}`}const O=({context:e,section:t,...r})=>{if(!r.paginationConfig)return null;const n=r.paginationConfig.prefix;return i.jsx(L,{...r,getPreviousProps:({currentPage:s})=>({href:x({context:e,prefix:n,page:s,difference:-1,section:t})}),getPaginationItemProps:({page:s})=>({href:x({context:e,prefix:n,page:s,section:t})}),getNextProps:({currentPage:s})=>({href:x({context:e,prefix:n,page:s,difference:1,section:t})})})};export{O as P};
