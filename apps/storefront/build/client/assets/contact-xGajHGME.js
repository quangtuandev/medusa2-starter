import{r as p,j as s,w as g}from"./chunk-OIYGIGL5-CeQP4D0V.js";import{u as x,b,o as y,s as m}from"./zod-DzbxpS7l.js";import{C as w}from"./Container-BYpXmQyH.js";import"./clsx-B-dksMZM.js";class d{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const j=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},n={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:j()},v=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},k=async(e,t,r={})=>{const a=await fetch(n.origin+e,{method:"POST",headers:r,body:t}),i=await a.text(),l=new d(a.status,i);if(a.ok)return l;throw l},S=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},N=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},P=e=>e.webdriver||!e.languages||e.languages.length===0,T=()=>new d(451,"Unavailable For Headless Browser"),L=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},R=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},C=(e,t)=>e instanceof FormData?e.get(t):e[t],E=(e,t)=>{if(R(e))return!1;L(e.list,e.watchVariable);const r=C(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},V=()=>new d(403,"Forbidden"),_=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},B=async(e,t,r)=>{const a=Number(await r.get(e)||0);return t-Date.now()+a},H=async(e,t,r)=>{if(!t.throttle||!r)return!1;_(t.throttle,t.id);const a=t.id||e;return await B(a,t.throttle,r)>0?!0:(await r.set(a,Date.now().toString()),!1)},q=()=>new d(429,"Too Many Requests"),F=async(e,t,r,a)=>{const i=v(a),l=i.publicKey||n.publicKey,o=i.blockHeadless||n.blockHeadless,u=i.storageProvider||n.storageProvider,h={...n.blockList,...i.blockList},c={...n.limitRate,...i.limitRate};return o&&P(navigator)?Promise.reject(T()):(S(l,e,t),N(r),r&&E(h,r)?Promise.reject(V()):await H(location.pathname,c,u)?Promise.reject(q()):k("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},M=y({name:m().min(2,"Name must be at least 2 characters"),email:m().email("Please enter a valid email"),subject:m().min(5,"Subject must be at least 5 characters"),message:m().min(10,"Message must be at least 10 characters")});function O(){const[e,t]=p.useState(!1),[r,a]=p.useState(null),{register:i,handleSubmit:l,formState:{errors:o},reset:u}=x({resolver:b(M)}),h=async c=>{t(!0),a(null);try{await F("service_a1uegfr","template_kh8252q",{from_name:c.name,from_email:c.email,to_name:"Kira Parfum Team",message:c.message},"PxWigR7xt2Jg86A-K"),u()}catch(f){console.error("EmailJS error:",f),a("Failed to send message. Please try again later.")}finally{t(!1)}};return s.jsxs("section",{className:"relative min-h-[1146px] overflow-hidden flex flex-col justify-center",children:[s.jsx("div",{className:"w-[2000px] absolute inset-0 left-1/2 -translate-x-1/2",children:s.jsx("img",{src:"/assets/images/contact.webp",alt:"Contact",className:"absolute top-0 left-0 w-[1700px] h-[1146px] object-cover z-0"})}),s.jsxs(w,{children:[s.jsx("div",{className:"contact-form-container relative",children:s.jsxs("form",{onSubmit:l(h),className:"space-y-6 z-10 relative max-w-[446px] mb-[100px] ml-auto mr-[170px]",children:[s.jsxs("div",{children:[s.jsx("input",{id:"name",type:"text",...i("name"),className:"w-full px-3 py-2 border border-primary rounded-full focus:outline-none focus:ring-1 focus:ring-highlight focus:border-highlight placeholder:text-primary placeholder:text-sm placeholder:font-medium",placeholder:"Name"}),o.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name.message})]}),s.jsxs("div",{children:[s.jsx("input",{id:"email",type:"email",...i("email"),className:"w-full px-3 py-2 border border-primary rounded-full focus:outline-none focus:ring-1 focus:ring-highlight focus:border-highlight placeholder:text-primary placeholder:text-sm placeholder:font-medium",placeholder:"Email"}),o.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),s.jsxs("div",{children:[s.jsx("textarea",{id:"message",rows:5,...i("message"),className:"w-full px-3 py-2 border border-primary rounded-[20px] focus:outline-none focus:ring-1 focus:ring-highlight focus:border-highlight placeholder:text-primary placeholder:text-sm placeholder:font-medium",placeholder:"Message"}),o.message&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.message.message})]}),r&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-red-600",children:r})}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{type:"submit",disabled:e,className:"mt-3 font-extrabold text-[16.93px] h-[48px] px-[40px] leading-none tracking-normal text-center font-montserrat bg-primary text-white py-2 px-4 rounded-full hover:bg-primary-700 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send"})})]})}),s.jsxs("p",{className:"font-title font-light text-[20px] leading-[30px] tracking-normal text-center text-primary absolute bottom-[150px] right-0 w-1/2 max-w-[720px] ml-auto mr-[170px]",children:["We'll be happy to answer any questions you may have :) If you have a problem with your order, please give us your order number so that we can help you as quickly as possible!",s.jsx("br",{}),"Our email: ",s.jsx("a",{href:"mailto:bykiraperfume@gmail.com",className:"text-primary underline",children:"bykiraperfume@gmail.com"})]})]})]})}function W(){return s.jsxs("div",{className:"contact-success-message",style:{textAlign:"center",marginTop:"2rem"},children:[s.jsxs("svg",{width:"60",height:"60",fill:"none",viewBox:"0 0 60 60",style:{display:"block",margin:"0 auto 1rem auto"},children:[s.jsx("circle",{cx:"30",cy:"30",r:"30",fill:"#d1fae5"}),s.jsx("path",{d:"M20 32l7 7 13-13",stroke:"#059669",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),s.jsx("h2",{style:{color:"#059669",marginBottom:".5rem"},children:"Message Sent!"}),s.jsx("p",{children:"Thank you for contacting us. We have received your message and will get back to you soon."})]})}const J=g(function(){const[t,r]=p.useState(!1);return s.jsx(s.Fragment,{children:t?s.jsx(W,{}):s.jsx(O,{})})});export{J as default};
